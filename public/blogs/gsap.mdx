---
title: GSAP
seoTitle: Using the Newly Added useGSAP() Hook as a Drop-in Replacement for useEffect()
summary: I'll start using GSAP again thanks to the new useGSAP() hook
isReleased: true
isSequel: false
lastModDate: 2024-01-05T09:15:00-0401
firstModDate: 2024-01-05T09:15:00-0401
minutesToRead: 2
tags:
  - 'react'
  - 'gsap'
---

<H2>New Hook Just Dropped</H2>

<C>
Over the past few years, I’ve mainly stuck with <L href="/blog/framer-motion">Framer Motion</L> for animations. It’s slick, intuitive, and fits right into **React**. Sure, I’ve dabbled with <L href="https://gsap.com/">GSAP</L>, but tbh it felt too verbose, especially in a React environment. 

But, hold up. GSAP just dropped something interesting: the **`useGSAP()`** hook. This is a game-changer for integrating GSAP into React.
</C>

<C>
Let me backtrack a bit. Before this update, animating with GSAP in React was... tedious. You had to wrap your elements in a **`gsap.Context`**, manually handle cleanup using **`useEffect()`** or **`useLayoutEffect()`**, and be extra careful about memory leaks in **SSR** setups. Oh, and don’t forget the dependency array you had to babysit. All that overhead for something as simple as a spinning box? Yeah, no thanks.
</C>

<C>
Here’s what the old way looked like:
</C>

<Code
  code={`import React, { useRef, useEffect, useLayoutEffect } from 'react';
import gsap from 'gsap';

const useIsoLayoutEffect =
  typeof window !== 'undefined' ? useLayoutEffect : useEffect;

const Component: React.FC = () => {
  const container = useRef<HTMLDivElement>(null);

  useIsoLayoutEffect(() => {
    const ctx = gsap.context(() => {
      const tl = gsap.timeline({ repeat: -1, repeatDelay: 0.5 });

      tl.to('.x', {
        rotation: 360,
        duration: 2,
        borderRadius: 16,
        translateX: -150,
        ease: 'power1.inOut',
      });
      tl.to('.x', {
        rotation: -360,
        duration: 2,
        borderRadius: 0,
        translateX: 150,
        ease: 'power1.inOut',
      });
      tl.to('.x', {
        rotation: 360,
        duration: 2,
        borderRadius: 16,
        translateX: 0,
        ease: 'power1.inOut',
      });
    }, container);

    return () => ctx.revert();
  }, []);

  return (
    <div>
      <div
        ref={container}
        className="flex flex-col items-center justify-center gap-10"
      >
        <div className="x w-10 h-10 bg-red-400 rounded-2xl animate-pulse"></div>
        <div className="x w-10 h-10 bg-yellow-400 rounded-2xl animate-pulse"></div>
        <div className="x w-10 h-10 bg-green-500 rounded-2xl animate-pulse"></div>
      </div>
    </div>
  );
};
`}
  language="tsx"
  showLineNumbers={false}
/>

<C>
Not exactly elegant, right? You’re juggling cleanup, context, and a million little details. Enter **`useGSAP()`**, which simplifies all that nonsense.
</C>

<C>
Here’s the same animation logic, but using the new hook:
</C>

<Code
  code={`import { useRef } from 'react';
import { useGSAP } from 'gsap-hook';
import gsap from 'gsap';

const Component: React.FC = () => {
  const container = useRef<HTMLDivElement>(null);

  useGSAP(
    () => {
      const tl = gsap.timeline({ repeat: -1, repeatDelay: 0.5 });
      tl.to('.x', {
        rotation: 360,
        duration: 2,
        borderRadius: 16,
        translateX: -150,
        ease: 'power1.inOut',
      });
      tl.to('.x', {
        rotation: -360,
        duration: 2,
        borderRadius: 0,
        translateX: 150,
        ease: 'power1.inOut',
      });
      tl.to('.x', {
        rotation: 360,
        duration: 2,
        borderRadius: 16,
        translateX: 0,
        ease: 'power1.inOut',
      });
    },
    { scope: container }
  );

  return (
    <div>
      <div
        ref={container}
        className="flex flex-col items-center justify-center gap-10"
      >
        <div className="x w-10 h-10 bg-red-400 rounded-2xl animate-pulse"></div>
        <div className="x w-10 h-10 bg-yellow-400 rounded-2xl animate-pulse"></div>
        <div className="x w-10 h-10 bg-green-500 rounded-2xl animate-pulse"></div>
      </div>
    </div>
  );
};
`}
  language="tsx"
  showLineNumbers={false}
/>

<C>
See how much cleaner that looks? No extra context objects, no manual cleanup, no clutter. It’s just the animation logic and a simple hook. This update isn’t massive, but it makes working with GSAP in React way smoother. I might actually use it more now.
</C>

<C>
Anyway, if you thought this was going to be an in-depth GSAP tutorial, sorry to disappoint. I’m just hyped they made this update. Sometimes, it’s the small things that make a big difference.
</C>
